import { DetectableFeature } from "../interfaces/DetectableFeature";
import { ContractWrapper } from "./contract-wrapper";
import { Transaction } from "./transactions";
import type { IAccountCore } from "@thirdweb-dev/contracts-js";
import { AccessRestrictions, SignerWithRestrictions } from "../../types";
import { AddressOrEns } from "../../schema";
export declare class Account<TContract extends IAccountCore> implements DetectableFeature {
    featureName: "Account";
    private contractWrapper;
    private emptyRole;
    constructor(contractWrapper: ContractWrapper<TContract>);
    getAddress(): string;
    /*********************************
     * HELPER FUNCTIONS
     ********************************/
    private hasDuplicateSigners;
    /**
     * Format the access restrictions for a given role
     *
     * @param restrictions - The access restrictions for a given role
     * @returns formatted role restrictions
     *
     */
    private parseRoleRestrictionsStruct;
    /**
     * Generate and sign a payload to grant or revoke a signer's access to the account.
     *
     * @param signer - The address of the signer
     * @param roleAction - The address of the signer
     * @returns The generated payload and signature produced on signing that payload.
     *
     */
    private generatePayload;
    /**
     * Get the factory contract which deployed the account
     *
     * @returns Returns the address of the factory
     *
     */
    private getFactory;
    /*********************************
     * READ FUNCTIONS
     ********************************/
    /**
     * Get whether a signer is an admin on the account.
     *
     * @example
     * ```javascript
     * const isAdmin = await contract.account.isAdmin(signer);
     * ```
     * @param signer - The address of a signer of the account.
     * @returns whether a signer is an admin on the account.
     *
     * @twfeature Account
     */
    isAdmin(signerAddress: AddressOrEns): Promise<boolean>;
    /**
     * Get the restrictions under which a given signer can use the account.
     *
     * @example
     * ```javascript
     * const restrictionsForSigner = await contract.account.getAccessRestrictions(signer);
     * ```
     * @param signer - The address of a signer of the account.
     * @returns the restrictions under which a given signer can use the account.
     *
     * @twfeature Account
     */
    getAccessRestrictions(signerAddress: AddressOrEns): Promise<AccessRestrictions>;
    /**
     * Get the deployer of the account
     * @remarks Get the address of the EIP-4337 factory contract which deployed the account
     *
     * @example
     * ```javascript
     * const factoryAddress = await contract.account.getFactoryAddress();
     * ```
     * @returns the address of the factory which deployed the account.
     *
     * @twfeature Account
     */
    getFactoryAddress(): Promise<string>;
    /**
     * Get all signers with their access restrictions
     *
     * @example
     * ```javascript
     * const allSigners = await contract.account.getSignersWithRestrictions();
     * ```
     * @returns all signers (admin or non-admin) of the account, along with their access restrictions.
     *
     * @twfeature Account
     */
    getSignersWithRestrictions(): Promise<SignerWithRestrictions[]>;
    /*********************************
     * WRITE FUNCTIONS
     ********************************/
    /**
     * Grant an address admin access to the account
     *
     * @remarks Grants an address admin access to the account. The admin will have complete authority over the account.
     *
     * @param signer - The address to be granted admin access to the account.
     *
     * @example
     * ```javascript
     * const tx = await contract.account.grantAdminAccess(signer);
     * const receipt = tx.receipt();
     * ```
     *
     * @twfeature Account
     */
    grantAdminAccess: {
        (signerAddress: string): Promise<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>;
        prepare: (signerAddress: string) => Promise<Transaction<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>>;
    };
    /**
     * Revoke an address' admin access to the account
     *
     * @remarks Revokes an address' admin access to the account.
     *
     * @param signer - The address of an admin of the account.
     *
     * @example
     * ```javascript
     * const tx = await contract.account.revokeAdminAccess(signer);
     * const receipt = tx.receipt();
     * ```
     *
     * @twfeature Account
     */
    revokeAdminAccess: {
        (signerAddress: string): Promise<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>;
        prepare: (signerAddress: string) => Promise<Transaction<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>>;
    };
    /**
     * Grant an address access to the account with restrictions
     *
     * @remarks Grants an address access to the account with certain restrictions.
     *
     * @param signer - The address to be granted access to the account.
     * @param restrictions - The restrictions to be applied to the signer's use of the account.
     *
     * @example
     * ```javascript
     * const tx = await contract.account.grantAccess(signer, restrictions);
     * const receipt = tx.receipt();
     * ```
     *
     * @twfeature Account
     */
    grantAccess: {
        (signerAddress: string, restrictions: {
            approvedCallTargets: string[];
            startDate?: number | Date | undefined;
            expirationDate?: number | Date | undefined;
            nativeTokenLimitPerTransaction?: string | number | undefined;
        }): Promise<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>;
        prepare: (signerAddress: string, restrictions: {
            approvedCallTargets: string[];
            startDate?: number | Date | undefined;
            expirationDate?: number | Date | undefined;
            nativeTokenLimitPerTransaction?: string | number | undefined;
        }) => Promise<Transaction<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>>;
    };
    /**
     * Approve an address as a call target for a given signer on the account
     *
     * @remarks Approves an address as a call target for a given signer on the account.
     *
     * @param signer - A signer with restricted access to the account.
     * @param target - The address to approve as a call target for the signer.
     *
     * @example
     * ```javascript
     * const tx = await contract.account.approveTargetForSigner(signer, target);
     * const receipt = tx.receipt();
     * ```
     *
     * @twfeature Account
     */
    approveTargetForSigner: {
        (signerAddress: string, target: string): Promise<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>;
        prepare: (signerAddress: string, target: string) => Promise<Transaction<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>>;
    };
    /**
     * Disapprove an address as a call target for a given signer on the account
     *
     * @remarks Disapprove an address as a call target for a given signer on the account.
     *
     * @param signer - A signer with restricted access to the account.
     * @param target - The address to disapprove as a call target for the signer.
     *
     * @example
     * ```javascript
     * const tx = await contract.account.disapproveTargetForSigner(signer, target);
     * const receipt = tx.receipt();
     * ```
     *
     * @twfeature Account
     */
    disapproveTargetForSigner: {
        (signerAddress: string, target: string): Promise<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>;
        prepare: (signerAddress: string, target: string) => Promise<Transaction<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>>;
    };
    /**
     * Update the restrictions of an address for using the account
     *
     * @remarks Updates an address' access to the account.
     *
     * @param signer - The address whose access to the account is to be updated.
     * @param restrictions - The restrictions to be applied to the signer's use of the account.
     *
     * @example
     * ```javascript
     * const tx = await contract.account.updateAccess(signer, restrictions);
     * const receipt = tx.receipt();
     * ```
     *
     * @twfeature Account
     */
    updateAccess: {
        (signerAddress: string, restrictions: {
            approvedCallTargets: string[];
            startDate?: number | Date | undefined;
            expirationDate?: number | Date | undefined;
            nativeTokenLimitPerTransaction?: string | number | undefined;
        }): Promise<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>;
        prepare: (signerAddress: string, restrictions: {
            approvedCallTargets: string[];
            startDate?: number | Date | undefined;
            expirationDate?: number | Date | undefined;
            nativeTokenLimitPerTransaction?: string | number | undefined;
        }) => Promise<Transaction<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>>;
    };
    /**
     * Revoke a scoped access address to the account
     *
     * @remarks Revokes an address' access to the account.
     *
     * @param signer - The address whose access to the account is to be revoked.
     *
     * @example
     * ```javascript
     * const tx = await contract.account.revokeAccess(signer);
     * const receipt = tx.receipt();
     * ```
     *
     * @twfeature Account
     */
    revokeAccess: {
        (signerAddress: string): Promise<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>;
        prepare: (signerAddress: string) => Promise<Transaction<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>>;
    };
    /**
     * Set the account's entire snapshot of permissions
     *
     * @remarks Sets the account's entire snapshot of permissions.
     *
     * @param permissionsSnapshot - the snapshot to set as the account's entire permission snapshot.
     *
     * @example
     * ```javascript
     * const tx = await contract.account.setAccess(permissionsSnapshot);
     * const receipt = tx.receipt();
     * ```
     *
     * @twfeature Account
     */
    setAccess: {
        (permissionsSnapshot: {
            signer: string;
            isAdmin: boolean;
            restrictions: {
                approvedCallTargets: string[];
                startDate?: number | Date | undefined;
                expirationDate?: number | Date | undefined;
                nativeTokenLimitPerTransaction?: string | number | undefined;
            };
        }[]): Promise<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>;
        prepare: (permissionsSnapshot: {
            signer: string;
            isAdmin: boolean;
            restrictions: {
                approvedCallTargets: string[];
                startDate?: number | Date | undefined;
                expirationDate?: number | Date | undefined;
                nativeTokenLimitPerTransaction?: string | number | undefined;
            };
        }[]) => Promise<Transaction<Omit<{
            receipt: import("@ethersproject/abstract-provider").TransactionReceipt;
            data: () => Promise<unknown>;
        }, "data">>>;
    };
}
//# sourceMappingURL=account.d.ts.map